<html xmlns:t="http://twistedmatrix.com/ns/twisted.web.template/0.1">
<head>
	<script src="/bower_components/jquery/dist/jquery.min.js"></script>
	<script src="/bower_components/datatables/media/js/jquery.dataTables.min.js"></script>
	<script src="/bower_components/datatables-bootstrap3-plugin/media/js/datatables-bootstrap3.min.js"></script>
	<link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css" />
	<link rel="stylesheet" href="/bower_components/font-awesome/css/font-awesome.min.css" />
	<link rel="stylesheet" href="/bower_components/datatables-bootstrap3-plugin/media/css/datatables-bootstrap3.min.css" />

	<style>

	body {
		font-family: 'Segoe UI', 'Helvetica Neue', Helvetica, Arial, sans-serif;
		color: #333;
		-webkit-tap-highlight-color: rgba(0,0,0,0);
		-webkit-touch-callout: none;
	}

	#header {
		background-color: #337ab7;
		color: #FFF;
		padding: 10px 0 35px;
	}
	#header h1 {
		font-size: 60px;
	}

	#action {
		margin: 40px 0;
	}

	#create form {
		text-align: center;
	}

	#create .btn-lg {
		padding: 20px 36px;
		font-size: 30px;
		border-radius: 8px;
	}

	#running h2 {
		font-size: 20px;
	}

	#stored {
		background-color: rgb(247, 247, 252)
	}

	#stored table tr td,
	#past table tr td {
		white-space: nowrap;
		vertical-align: middle;
	}
	#stored table tr td:first-child,
	#past table tr td:first-child {
		width: 75%;
		white-space: normal;
	}
	#stored th, #stored td,
	#past th, #past td {
		padding: 8px 20px;
	}
	#stored th:first-child,
	#stored td:first-child,
	#past th:first-child,
	#past td:first-child {
		padding: 8px;
	}

	#past {
		margin: 20px 0;
	}

	#stored form,
	#past form {
		display: inline;
	}

	</style>

	<script type="text/javascript">
	// <![CDATA[
	$(function ($) {
		$('#stored table').DataTable({
			order: [[1, 'desc']],
			columns: [
				null,
				null,
				{ orderable: false }
			]
		});
	});

	$(function ($) {
		$('#past table').DataTable({
			order: [[1, 'desc']],
			columns: [
				null,
				null,
				null,
				{ orderable: false }
			]
		});
	});
	// ]]>
	</script>

	<title>Octopus</title>

</head>
<body>
	<section id="header">
	<div class="container">
		<h1>Octopus</h1>
	</div>
	</section>

	<section id="action">
	<div class="container">
	<div class="row">
		<div class="col-md-6" id="create">
			<form action="/sketch/create" method="post">
				<button class="btn btn-success btn-lg" type="submit">New Sketch</button>
			</form>
		</div>
		<div class="col-md-6" id="running">
		<div class="panel panel-default">
			<div class="panel-heading">
				<h2 class="panel-title">Running Experiments</h2>
			</div>
			<div class="list-group">
				<a class="list-group-item" t:render="running_experiment">
					<t:attr name="href"><t:slot name="url" /></t:attr>
					<t:slot name="title" />
					<span class="badge">
						<t:slot name="duration" />
					</span>
				</a>
			</div>
		</div>
		</div>
	</div>
	</div>
	</section>

	<section id="stored">
	<div class="container">
		<h2>Saved Sketches</h2>

		<table class="table">
		<thead>
		<tr>
			<th>Name</th>
			<th>Last modified</th>
			<th>Actions</th>
		</tr>
		</thead>
		<tbody>
		<tr t:render="saved_sketch">
			<td>
				<a><t:attr name="href"><t:slot name="url" /></t:attr><t:slot name="title" /></a>
			</td>
			<td>
				<t:attr name="data-sort"><t:slot name="modified_date_raw" /></t:attr>
				<t:slot name="modified_date" />
			</td>
			<td>
				<form method="post">
					<t:attr name="action"><t:slot name="copy_url" /></t:attr>
					<button class="btn btn-default btn-sm" type="submit">Duplicate</button>
				</form>
				<form method="post">
					<t:attr name="action"><t:slot name="delete_url" /></t:attr>
					<button class="btn btn-danger btn-sm" type="submit">Delete</button>
				</form>
			</td>
		</tr>
		</tbody>
		</table>
	</div>
	</section>

	<section id="past">
	<div class="container">
		<h2>Completed Experiments</h2>
		<table class="table">
		<thead>
		<tr>
			<th>Name</th>
			<th>Completed</th>
			<th>Duration</th>
			<th>Actions</th>
		</tr>
		</thead>
		<tbody>
		<tr t:render="past_experiment">
			<td><a><t:attr name="href"><t:slot name="url" /></t:attr><t:slot name="title" /></a></td>
			<td><t:attr name="data-sort"><t:slot name="finished_date_raw" /></t:attr><t:slot name="finished_date" /></td>
			<td><t:attr name="data-sort"><t:slot name="duration_raw" /></t:attr><t:slot name="duration" /></td>
			<td>
				<a class="btn btn-sm btn-default"><t:attr name="href"><t:slot name="download_url" /></t:attr>Download Data</a>
				<form method="post">
					<t:attr name="action"><t:slot name="delete_url" /></t:attr>
					<button class="btn btn-sm btn-danger" type="submit">Delete</button>
				</form>
			</td>
		</tr>
		</tbody>
		</table>
	</div>
	</section>
</body>
</html>
